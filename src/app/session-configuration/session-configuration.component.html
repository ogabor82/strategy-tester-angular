<div class="as-card">
  <h2>Session Configuration</h2>

  <div class="configuration-container">
    <div class="configuration-content">
      <label for="strategy">Strategy</label>
      <div class="configuration-item as-card as-card_inverse">
        <h4>{{ sessionConfiguration.strategy?.name }}</h4>
        <p>{{ sessionConfiguration.strategy?.description }}</p>
      </div>
    </div>

    <div class="configuration-content">
      <label for="ticker-set">Ticker Set</label>
      <div class="ticker-set configuration-item as-card as-card_inverse">
        <h4>{{ sessionConfiguration.tickerSet?.name }}</h4>
        <p>{{ sessionConfiguration.tickerSet?.description }}</p>
        @for (ticker of sessionConfiguration.tickerSet?.tickers; track $index) {
        <mat-chip class="ticker-chip"
          >{{ ticker }}
          <button matChipRemove aria-label="'remove ' + keyword">
            <mat-icon>cancel</mat-icon>
          </button>
        </mat-chip>
        }
      </div>
    </div>

    <div class="configuration-content">
      <label for="timeframe-set">Timeframe Set</label>
      <div class="timeframe-set configuration-item as-card as-card_inverse">
        <h4>{{ sessionConfiguration.timeframeSet?.name }}</h4>
        <p>{{ sessionConfiguration.timeframeSet?.description }}</p>
        @for (timeframe of sessionConfiguration.timeframeSet?.timeframes; track
        $index) {
        <div
          class="timeframe-row"
          [class.timeframe-row_even]="$index % 2 === 0"
          [class.timeframe-row_odd]="$index % 2 === 1"
        >
          {{ timeframe.start }} - {{ timeframe.end }}
        </div>
        }
      </div>
    </div>
  </div>

  <div class="configuration-container">
    <div class="configuration-content">
      <label for="backtest-session">Backtest Session</label>
      <div class="backtest-session configuration-item as-card as-card_inverse">
        <h4>{{ sessionConfiguration.backtestSession?.name }}</h4>
        <p>{{ sessionConfiguration.backtestSession?.details }}</p>
      </div>
    </div>
    <button mat-raised-button color="primary" (click)="runBacktest()">
      Run Backtest
    </button>
  </div>
</div>
